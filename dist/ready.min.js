(function(){var c=!0,e;function f(a,b){var d;if(f.i(a))return d=f.h(f.j),d.addListener(a);if(0===arguments.length)return f.h(f.j);d=f.h(a);b&&(d=new h(a),f.db.c[a]=d);return d}f.j="main";f.db={c:{},uid:1};f.i=function(a){return"[object Function]"===Object.prototype.toString.call(a)};f.bind=function(a,b){return function(){return a.apply(b)}};f.uid=function(){return"uid"+ ++f.db.uid};f.h=function(a){if(f.db.c[a])return f.db.c[a];var b=new h(a);return f.db.c[a]=b};f.reset=function(){for(var a in f.db.c)f.db.c[a].n(),delete f.db.c[a]};
function h(a){this.u=a;this.d={};this.b={};this.a={};this.f=!1}e=h.prototype;e.n=function(){i(this,this.d);i(this,this.b,c);i(this,this.a)};function i(a,b,d){for(var g in b)d&&b[g].o&&delete a[b[g].m],delete b[g]}e.p=function(){return this.f};e.q=function(a){return this.b[a]&&this.b[a].g||!1};e.addListener=function(a){if(this.p())return a(),null;var a={e:a},b=f.uid();this.d[b]=a;return b};e.removeListener=function(a){delete this.d[a];return this};
e.r=function(a,b){if(this.f||this.q(a))return b(),null;this.b[a]||this.k(a);var d={m:a,e:b},g=f.uid();this.a[a]||(this.a[a]={});this.a[a][g]=d;return g};e.s=function(a){for(var b in this.a)if(this.a[b]){delete this.a[b][a];break}return this};e.k=function(a){this.b[a]||(this.b[a]={m:a,g:!1,o:!1},this[a]||(this[a]=f.bind(function(){this.l(a)},this),this.b[a].o=c));return this};
e.l=function(a){var b=this.b[a];if(!b)return j(this)&&(this.f=c,k(this)),this;b.g=c;l(this,a);this.b[a]=b;j(this)&&(this.f=c,k(this));return this};function j(a){for(var b in a.b)if(!a.b[b].g)return!1;return c}function k(a){for(var b in a.a)l(a,b),delete a.a[b];for(var d in a.d)f.i(a.d[d].e)&&a.d[d].e(),delete a.d[d]}function l(a,b){var d,g;for(g in a.a[b])d=a.a[b][g],f.i(d.e)&&d.e(),delete a.a[b][g];delete a.a[b]};f.t={};var m=f;m.C=h;var n=h.prototype;n.addCheck=n.k;n.check=n.l;n.addCheckListener=n.r;n.removeCheckListener=n.s;n.removeListener=n.removeListener;n.isDone=n.p;n.isDoneCheck=n.q;n.dispose=n.n;m.C.prototype=n;window.ss={ready:m};}).call(this);
