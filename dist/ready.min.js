(function(){var d=!0,e;function f(a,b){var c;if(f.j(a))return c=f.i(f.k),c.addListener(a,b);if(0===arguments.length)return f.i(f.k);c=f.i(a);b&&(c=new h(a),f.db.d[a]=c);return c}f.k="main";f.db={d:{},uid:1};f.j=function(a){return"[object Function]"===Object.prototype.toString.call(a)};f.bind=function(a,b){return function(){return a.apply(b)}};f.uid=function(){return"uid"+ ++f.db.uid};f.i=function(a){if(f.db.d[a])return f.db.d[a];var b=new h(a);return f.db.d[a]=b};f.reset=function(){for(var a in f.db.d)f.db.d[a].o(),delete f.db.d[a]};
function h(a){this.v=a;this.c={};this.b={};this.a={};this.g=!1}e=h.prototype;e.o=function(){i(this,this.c);i(this,this.b,d);i(this,this.a)};function i(a,b,c){for(var g in b)c&&b[g].p&&delete a[b[g].n],delete b[g]}e.q=function(){return this.g};e.r=function(a){return this.b[a]&&this.b[a].h||!1};e.addListener=function(a,b){if(this.q())return a(),null;var c={e:a,f:b||0},g=f.uid();this.c[g]=c;return g};e.removeListener=function(a){delete this.c[a];return this};
e.s=function(a,b,c){if(this.g||this.r(a))return b(),null;this.b[a]||this.l(a);b={n:a,e:b,f:c||0};c=f.uid();this.a[a]||(this.a[a]={});this.a[a][c]=b;return c};e.t=function(a){for(var b in this.a)if(this.a[b]){delete this.a[b][a];break}return this};e.l=function(a){this.b[a]||(this.b[a]={n:a,h:!1,p:!1},this[a]||(this[a]=f.bind(function(){this.m(a)},this),this.b[a].p=d));return this};
e.m=function(a){var b=this.b[a];if(!b)return j(this)&&(this.g=d,k(this)),this;b.h=d;l(this,a);this.b[a]=b;j(this)&&(this.g=d,k(this));return this};function j(a){for(var b in a.b)if(!a.b[b].h)return!1;return d}function k(a){for(var b in a.a)l(a,b),delete a.a[b];for(var c in a.c)f.j(a.c[c].e)&&(0===a.c[c].f?a.c[c].e():setTimeout(a.c[c].e,a.c[c].f)),delete a.c[c]}function l(a,b){var c,g;for(g in a.a[b])c=a.a[b][g],f.j(c.e)&&(0===c.f?c.e():setTimeout(c.e,c.f)),delete a.a[b][g];delete a.a[b]};f.u={};var m=f;m.C=h;var n=h.prototype;n.addCheck=n.l;n.check=n.m;n.addCheckListener=n.s;n.removeCheckListener=n.t;n.removeListener=n.removeListener;n.isDone=n.q;n.isDoneCheck=n.r;n.dispose=n.o;m.C.prototype=n;window.ss={ready:m};}).call(this);
